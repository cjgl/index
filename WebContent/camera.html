<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>摄像头</title>
</head>
<body>
	<button id="run">开启网络摄像头</button><Br/>
    <video id="video"></video> 
</body>
<script type="text/javascript">
//想要获取一个最接近 800x600 的相机分辨率
var constraints = { audio: true, video: { width: 800, height: 600 } }; 

var btn = document.getElementById('run');
btn.onclick = startWebcam;

function startWebcam(){
	navigator.mediaDevices.getUserMedia(constraints)
	.then(function(mediaStream) {
	  var video = document.querySelector('video');
	  video.srcObject = mediaStream;
	  video.onloadedmetadata = function(e) {
	    video.play();
	  };
	})
	.catch(function(err) { console.log(err.name + ": " + err.message); }); // 总是在最后检查错误	
}

</script>
</html>